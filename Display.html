<!DOCTYPE html>
<html lang="th">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>AI Event: Happy Owl</title>
Â  Â  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
Â  Â  
Â  Â  <style>
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,400;0,600;0,700;1,700&family=Kanit:wght@300;400;600;800&display=swap');

Â  Â  Â  Â  body { 
Â  Â  Â  Â  Â  Â  margin: 0; overflow: hidden; 
Â  Â  Â  Â  Â  Â  background-color: #0b1026; 
Â  Â  Â  Â  Â  Â  background-image: 
Â  Â  Â  Â  Â  Â  Â  Â  radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%),
Â  Â  Â  Â  Â  Â  Â  Â  url('https://media.discordapp.net/attachments/1460827312080556032/1461184792367337472/S__36110343.png?ex=6969a1e2&is=69685062&hm=2979901686588bdcf06e2652d6097e4fefa1702ade9fb8dbfff1a367e9f12597&=&format=webp&quality=lossless&width=1209&height=680');
Â  Â  Â  Â  Â  Â  background-size: cover; 
Â  Â  Â  Â  Â  Â  background-position: center; 
Â  Â  Â  Â  Â  Â  background-repeat: no-repeat;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  font-family: 'Kanit', sans-serif; color: white; height: 100vh; 
Â  Â  Â  Â  Â  Â  position: relative; perspective: 2500px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* === à¸¥à¸°à¸­à¸­à¸‡à¹à¸ªà¸‡à¸§à¸´à¹€à¸¨à¸© === */
Â  Â  Â  Â  .bg-particles {
Â  Â  Â  Â  Â  Â  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
Â  Â  Â  Â  Â  Â  overflow: hidden; z-index: 1; pointer-events: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .bg-particles span {
Â  Â  Â  Â  Â  Â  position: absolute; display: block;
Â  Â  Â  Â  Â  Â  width: 8px; height: 8px; background: rgba(255, 255, 255, 0.6);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
Â  Â  Â  Â  Â  Â  border-radius: 50%; animation: moveParticles 15s linear infinite;
Â  Â  Â  Â  Â  Â  bottom: -10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .bg-particles span:nth-child(1) { left: 10%; width: 10px; height: 10px; animation-duration: 12s; }
Â  Â  Â  Â  .bg-particles span:nth-child(2) { left: 20%; width: 6px; height: 6px; animation-duration: 18s; animation-delay: 2s; }
Â  Â  Â  Â  .bg-particles span:nth-child(3) { left: 35%; width: 12px; height: 12px; animation-duration: 25s; animation-delay: 4s; }
Â  Â  Â  Â  .bg-particles span:nth-child(4) { left: 50%; width: 8px; height: 8px; animation-duration: 15s; animation-delay: 1s; }
Â  Â  Â  Â  .bg-particles span:nth-child(5) { left: 65%; width: 5px; height: 5px; animation-duration: 20s; animation-delay: 3s; }
Â  Â  Â  Â  .bg-particles span:nth-child(6) { left: 80%; width: 10px; height: 10px; animation-duration: 22s; animation-delay: 5s; }
Â  Â  Â  Â  @keyframes moveParticles {
Â  Â  Â  Â  Â  Â  0% { transform: translateY(0) scale(1); opacity: 0; }
Â  Â  Â  Â  Â  Â  10% { opacity: 1; }
Â  Â  Â  Â  Â  Â  100% { transform: translateY(-100vh) scale(0.5); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- HEADER --- */
Â  Â  Â  Â  .header-container {
Â  Â  Â  Â  Â  Â  position: absolute; top: 60px; left: 0; width: 100%;
Â  Â  Â  Â  Â  Â  text-align: center; z-index: 60; pointer-events: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .main-title {
Â  Â  Â  Â  Â  Â  font-family: 'Chakra Petch', sans-serif; 
Â  Â  Â  Â  Â  Â  font-size: 5rem; font-weight: 700; font-style: italic; 
Â  Â  Â  Â  Â  Â  margin: 0; line-height: 1; text-transform: uppercase; letter-spacing: 2px;
Â  Â  Â  Â  Â  Â  background: linear-gradient(180deg, #ffffff 30%, #4facfe 100%);
Â  Â  Â  Â  Â  Â  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(79, 172, 254, 0.6), 0 0 40px rgba(0, 242, 254, 0.4);
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.5));
Â  Â  Â  Â  Â  Â  position: relative; display: inline-block;
Â  Â  Â  Â  }
Â  Â  Â  Â  .main-subtitle {
Â  Â  Â  Â  Â  Â  font-family: 'Kanit', sans-serif; font-size: 1.2rem; color: #e0f7fa; 
Â  Â  Â  Â  Â  Â  letter-spacing: 8px; text-transform: uppercase; font-weight: 400; margin-top: 5px;
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 10px rgba(0, 255, 255, 0.8); opacity: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  .header-line {
Â  Â  Â  Â  Â  Â  width: 150px; height: 4px; 
Â  Â  Â  Â  Â  Â  background: linear-gradient(90deg, transparent, #ffffff, #00f2fe, transparent);
Â  Â  Â  Â  Â  Â  margin: 10px auto 0; border-radius: 10px; box-shadow: 0 0 20px rgba(0, 242, 254, 0.8);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- TOTAL COUNTER --- */
Â  Â  Â  Â  .total-panel {
Â  Â  Â  Â  Â  Â  position: absolute; top: 25px; right: 30px; z-index: 70; 
Â  Â  Â  Â  Â  Â  animation: fadeInRight 1s ease-out;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes fadeInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
Â  Â  Â  Â  
Â  Â  Â  Â  .total-box {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.5); border-bottom: 3px solid #00f2fe;
Â  Â  Â  Â  Â  Â  border-radius: 20px; padding: 8px 25px; 
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(0, 242, 254, 0.2);
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; align-items: flex-end;
Â  Â  Â  Â  Â  Â  transition: transform 0.2s;
Â  Â  Â  Â  }
Â  Â  Â  Â  .total-box:hover { transform: scale(1.05); }
Â  Â  Â  Â  .total-label {
Â  Â  Â  Â  Â  Â  font-family: 'Kanit', sans-serif; font-size: 0.7rem; color: #bae6fd;
Â  Â  Â  Â  Â  Â  letter-spacing: 1px; font-weight: 600; text-transform: uppercase;
Â  Â  Â  Â  Â  Â  text-shadow: 0 1px 2px rgba(0,0,0,0.5); margin-bottom: -2px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .total-number {
Â  Â  Â  Â  Â  Â  font-family: 'Chakra Petch', sans-serif; font-size: 2.2rem; font-weight: 800; line-height: 1;
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom, #ffffff, #00f2fe);
Â  Â  Â  Â  Â  Â  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- OWL LOGO --- */
Â  Â  Â  Â  .owl-logo-container {
Â  Â  Â  Â  Â  Â  position: absolute; top: 25px; left: 30px; z-index: 200; 
Â  Â  Â  Â  Â  Â  animation: logoFloat 4s ease-in-out infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  .owl-logo-img {
Â  Â  Â  Â  Â  Â  width: 200px; height: auto; display: block;
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 5px 15px rgba(0, 150, 255, 0.4)); transition: all 0.3s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes logoFloat {
Â  Â  Â  Â  Â  Â  0%, 100% { transform: translateY(0); }
Â  Â  Â  Â  Â  Â  50% { transform: translateY(-8px); }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- LEFT PANEL: QR CODE --- */
Â  Â  Â  Â  .qr-panel {
Â  Â  Â  Â  Â  Â  position: absolute; top: 60%; left: 5%; 
Â  Â  Â  Â  Â  Â  transform: translateY(-50%); width: 260px;
Â  Â  Â  Â  Â  Â  background: rgba(10, 20, 40, 0.5); backdrop-filter: blur(10px);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.2); 
Â  Â  Â  Â  Â  Â  border-top: 1px solid #ffd700; border-bottom: 1px solid #00f2fe;
Â  Â  Â  Â  Â  Â  border-radius: 20px; padding: 20px; text-align: center; z-index: 55;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  Â  Â  animation: floatPanelLeft 6s ease-in-out infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes floatPanelLeft {
Â  Â  Â  Â  Â  Â  0%, 100% { transform: translateY(-50%) translateY(0px); }
Â  Â  Â  Â  Â  Â  50% { transform: translateY(-50%) translateY(-10px); }
Â  Â  Â  Â  }
Â  Â  Â  Â  .qr-title { font-size: 1.4rem; font-weight: 800; color: #fff; margin-bottom: 5px; text-shadow: 0 0 10px rgba(0,150,255,0.5); }
Â  Â  Â  Â  .qr-subtitle { font-size: 0.9rem; color: #cbd5e1; margin-bottom: 15px; font-weight: 300; }
Â  Â  Â  Â  .qr-image-box { background: white; padding: 8px; border-radius: 10px; display: inline-block; box-shadow: 0 0 15px rgba(255,215,0,0.3); }
Â  Â  Â  Â  .qr-image-box img { width: 160px; height: 160px; display: block; }

Â  Â  Â  Â  /* --- RIGHT PANEL: LIMITED WINNERS --- */
Â  Â  Â  Â  .limited-panel {
Â  Â  Â  Â  Â  Â  position: absolute; top: 55%; right: 5%; 
Â  Â  Â  Â  Â  Â  transform: translateY(-50%); width: 280px; height: 450px; 
Â  Â  Â  Â  Â  Â  background: rgba(10, 20, 40, 0.6); backdrop-filter: blur(10px);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  Â  Â  border-top: 3px solid #ffd700; border-bottom: 1px solid #00f2fe;
Â  Â  Â  Â  Â  Â  border-radius: 20px; padding: 20px; z-index: 55;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column;
Â  Â  Â  Â  Â  Â  animation: floatPanelRight 7s ease-in-out infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes floatPanelRight {
Â  Â  Â  Â  Â  Â  0%, 100% { transform: translateY(-50%) translateY(0px); }
Â  Â  Â  Â  Â  Â  50% { transform: translateY(-50%) translateY(-12px); }
Â  Â  Â  Â  }
Â  Â  Â  Â  .limited-title {
Â  Â  Â  Â  Â  Â  font-size: 1.3rem; font-weight: 800; color: #ffca28; text-align: center; margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  text-shadow: 0 2px 10px rgba(255,215,0,0.4); letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid rgba(255, 215, 0, 0.3); padding-bottom: 10px;
Â  Â  Â  Â  Â  Â  flex-shrink: 0; z-index: 2; background: inherit;
Â  Â  Â  Â  }
Â  Â  Â  Â  .limited-window {
Â  Â  Â  Â  Â  Â  flex: 1; overflow: hidden; position: relative;
Â  Â  Â  Â  Â  Â  mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
Â  Â  Â  Â  }
Â  Â  Â  Â  .limited-content { position: absolute; width: 100%; }
Â  Â  Â  Â  .scrolling-up { animation: scrollVertical linear infinite; }
Â  Â  Â  Â  @keyframes scrollVertical { 0% { transform: translateY(0); } 100% { transform: translateY(-50%); } }

Â  Â  Â  Â  .winner-item {
Â  Â  Â  Â  Â  Â  display: flex; align-items: center;
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, rgba(255, 215, 0, 0.1), transparent);
Â  Â  Â  Â  Â  Â  border-left: 3px solid #FFD700;
Â  Â  Â  Â  Â  Â  padding: 10px; margin-bottom: 10px; border-radius: 6px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .winner-img { width: 35px; height: 35px; border-radius: 50%; border: 1px solid #FFD700; margin-right: 10px; object-fit: cover; }
Â  Â  Â  Â  .winner-info { flex: 1; min-width: 0; }
Â  Â  Â  Â  .winner-name { font-size: 0.85rem; font-weight: 700; color: #fff; margin-bottom: 2px; }
Â  Â  Â  Â  .winner-reward { font-size: 0.75rem; color: #ffca28; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

Â  Â  Â  Â  /* --- BOOK STAGE --- */
Â  Â  Â  Â  .book-stage {
Â  Â  Â  Â  Â  Â  position: absolute; top: 52%; left: 50%; 
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%) rotateX(20deg); 
Â  Â  Â  Â  Â  Â  width: 850px; height: 550px; z-index: 50; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .book { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; }

Â  Â  Â  Â  .book-cover {
Â  Â  Â  Â  Â  Â  position: absolute; top: -20px; left: -20px; right: -20px; bottom: -20px;
Â  Â  Â  Â  Â  Â  background-color: #6ec5b8; border-radius: 15px;
Â  Â  Â  Â  Â  Â  transform: translateZ(-5px); border-bottom: 10px solid #4da699; 
Â  Â  Â  Â  Â  Â  box-shadow: 0 50px 100px rgba(0,0,0,0.6); z-index: 0; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .book-spine-bar {
Â  Â  Â  Â  Â  Â  position: absolute; left: 50%; top: -20px; bottom: -25px; width: 60px;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%); background: #4da699; z-index: 5; border-radius: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-sheet {
Â  Â  Â  Â  Â  Â  position: absolute; top: 0; width: 50%; height: 100%;
Â  Â  Â  Â  Â  Â  background-color: #fffbf0; overflow: hidden; 
Â  Â  Â  Â  Â  Â  padding: 25px 30px; box-sizing: border-box; 
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; justify-content: space-around; align-items: center;
Â  Â  Â  Â  Â  Â  transform-style: preserve-3d; border: 1px solid #eaddcf;
Â  Â  Â  Â  }
Â  Â  Â  Â  #static-left { left: 0; border-radius: 10px 0 0 10px; z-index: 10; box-shadow: inset -20px 0 30px rgba(0,0,0,0.05), -1px 0 0 #eaddcf; }
Â  Â  Â  Â  #static-right { right: 0; border-radius: 0 10px 10px 0; z-index: 9; box-shadow: inset 20px 0 30px rgba(0,0,0,0.05), 1px 0 0 #eaddcf; }

Â  Â  Â  Â  .flipping-wrapper {
Â  Â  Â  Â  Â  Â  position: absolute; top: 0; right: 0; width: 50%; height: 100%;
Â  Â  Â  Â  Â  Â  transform-origin: left center; transform-style: preserve-3d;
Â  Â  Â  Â  Â  Â  z-index: 100; display: none; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .flip-front, .flip-back {
Â  Â  Â  Â  Â  Â  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
Â  Â  Â  Â  Â  Â  backface-visibility: hidden; background-color: #fffbf0; 
Â  Â  Â  Â  Â  Â  border: 1px solid #eaddcf; box-sizing: border-box;
Â  Â  Â  Â  Â  Â  padding: 25px 30px; display: flex; flex-direction: column; justify-content: space-around; align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .flip-front { border-radius: 0 10px 10px 0; box-shadow: inset 15px 0 30px rgba(0,0,0,0.05); }
Â  Â  Â  Â  .flip-back { transform: rotateY(180deg); border-radius: 10px 0 0 10px; box-shadow: inset -15px 0 30px rgba(0,0,0,0.05); }
Â  Â  Â  Â  .do-flip { display: block; animation: flipBookAnim 1.8s cubic-bezier(0.645, 0.045, 0.355, 1) forwards; }
Â  Â  Â  Â  @keyframes flipBookAnim { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(-180deg); } }

Â  Â  Â  Â  /* === MESSAGES STYLES === */
Â  Â  Â  Â  /* Basic Clean Card */
Â  Â  Â  Â  .msg-box {
Â  Â  Â  Â  Â  Â  width: 100%; display: flex; align-items: center;
Â  Â  Â  Â  Â  Â  background: #ffffff; 
Â  Â  Â  Â  Â  Â  border: 1px solid #cbd5e1; 
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  opacity: 0; transform: translateY(10px); 
Â  Â  Â  Â  Â  Â  min-height: 85px; max-height: 120px; overflow: visible; box-sizing: border-box;
Â  Â  Â  Â  Â  Â  border-radius: 16px; 
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease; 
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 8px rgba(0,0,0,0.04); 
Â  Â  Â  Â  }
Â  Â  Â  Â  .img-wrapper { position: relative; margin-right: 15px; flex-shrink: 0; width: 60px; height: 60px; }
Â  Â  Â  Â  .msg-img { width: 100%; height: 100%; border-radius: 14px; object-fit: cover; background-color: #f1f5f9; border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
Â  Â  Â  Â  .msg-content { flex: 1; min-width: 0; display: flex; flex-direction: column; justify-content: center; }
Â  Â  Â  Â  .msg-text { font-family: 'Kanit', sans-serif; font-weight: 500; color: #334155; margin-bottom: 4px; white-space: normal; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.4; }
Â  Â  Â  Â  .msg-name { font-size: 0.85rem; color: #64748b; font-weight: 400; letter-spacing: 0.5px; }
Â  Â  Â  Â  .size-normal { font-size: 1rem; } .size-s { font-size: 0.9rem; } .size-xs { font-size: 0.8rem; }
Â  Â  Â  Â  .msg-anim { animation: fadeInUp 0.8s forwards; }
Â  Â  Â  Â  @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
Â  Â  Â  Â  .d-1 { animation-delay: 0.5s; } .d-2 { animation-delay: 1.5s; } .d-3 { animation-delay: 2.5s; }
Â  Â  Â  Â  .d-4 { animation-delay: 3.8s; } .d-5 { animation-delay: 4.8s; } .d-6 { animation-delay: 5.8s; }

Â  Â  Â  Â  /* === VIP STYLES (Limited Base) === */
Â  Â  Â  Â  .msg-box.limited-card {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
Â  Â  Â  Â  Â  Â  border: 1px solid #bfa35f; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
Â  Â  Â  Â  Â  Â  position: relative; overflow: hidden; border-radius: 16px;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Shimmer for Limited Card (Standard White Sweep) */
Â  Â  Â  Â  .msg-box.limited-card::after {
Â  Â  Â  Â  Â  Â  content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
Â  Â  Â  Â  Â  Â  transform: rotate(30deg); animation: shineMove 2.5s infinite; pointer-events: none; z-index: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes shineMove { 0% { transform: translate(-100%, -100%) rotate(30deg); } 100% { transform: translate(50%, 50%) rotate(30deg); } }
Â  Â  Â  Â  
Â  Â  Â  Â  .msg-box.limited-card .msg-text { color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.8); font-weight: 600; position: relative; z-index: 2; }
Â  Â  Â  Â  .msg-box.limited-card .msg-name { color: #ffca28; font-weight: 700; text-transform: uppercase; position: relative; z-index: 2; }
Â  Â  Â  Â  .msg-img.limited-img { border-radius: 14px; border: 2px solid #FFD700; box-shadow: 0 0 10px rgba(255, 215, 0, 0.4); position: relative; z-index: 2; }
Â  Â  Â  Â  .crown-badge { position: absolute; top: -14px; left: -8px; font-size: 24px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.8)); transform: rotate(-15deg); animation: crownBounce 2s infinite ease-in-out; z-index: 10; }
Â  Â  Â  Â  @keyframes crownBounce { 0%, 100% { transform: rotate(-15deg) translateY(0); } 50% { transform: rotate(-15deg) translateY(-3px); } }

Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  /* === LEVEL SYSTEM STYLES (THEME FOCUSED) === */
Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  
Â  Â  Â  Â  .lv-badge {
Â  Â  Â  Â  Â  Â  position: absolute; top: 0; right: 0;
Â  Â  Â  Â  Â  Â  padding: 3px 12px; border-bottom-left-radius: 12px;
Â  Â  Â  Â  Â  Â  font-size: 0.65rem; font-weight: 800; color: #fff;
Â  Â  Â  Â  Â  Â  font-family: 'Chakra Petch', sans-serif; letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  z-index: 5;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* LV 5 : Soft Jade */
Â  Â  Â  Â  .msg-box.lv-5 {
Â  Â  Â  Â  Â  Â  background: #f0fdf9 !important; border: 1px solid #99f6e4 !important; 
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 6px rgba(153, 246, 228, 0.3) !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .msg-box.lv-5 .msg-text { color: #115e59 !important; }
Â  Â  Â  Â  .msg-box.lv-5 .msg-name { color: #0f766e !important; font-weight: 600; }
Â  Â  Â  Â  .msg-box.lv-5 .msg-img { border-color: #5eead4 !important; }
Â  Â  Â  Â  .lv-badge.bg-lv5 { background-color: #5eead4; color: #134e4a; }

Â  Â  Â  Â  /* LV 10 : Soft Indigo */
Â  Â  Â  Â  .msg-box.lv-10 {
Â  Â  Â  Â  Â  Â  background: #f5f3ff !important; border: 1px solid #a78bfa !important;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 6px rgba(167, 139, 250, 0.3) !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .msg-box.lv-10 .msg-text { color: #4c1d95 !important; }
Â  Â  Â  Â  .msg-box.lv-10 .msg-name { color: #5b21b6 !important; font-weight: 600; }
Â  Â  Â  Â  .msg-box.lv-10 .msg-img { border-color: #a78bfa !important; }
Â  Â  Â  Â  .lv-badge.bg-lv10 { background-color: #8b5cf6; color: white; }

Â  Â  Â  Â  /* LV 15+ (MAX) : REAL RAINBOW BORDER (FIXED) */
Â  Â  Â  Â  .msg-box.lv-max {
Â  Â  Â  Â  Â  Â  background: #ffffff !important; /* à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¸‚à¸²à¸§ */
Â  Â  Â  Â  Â  Â  border: none !important; /* à¸¥à¸šà¹€à¸ªà¹‰à¸™à¸‚à¸­à¸šà¸›à¸à¸•à¸´ */
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05) !important; /* à¹€à¸‡à¸²à¸šà¸²à¸‡à¹† à¸à¸­ */
Â  Â  Â  Â  Â  Â  z-index: 0; 
Â  Â  Â  Â  Â  Â  border-radius: 16px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸ªà¹‰à¸™à¸‚à¸­à¸šà¸£à¸¸à¹‰à¸‡à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¹€à¸—à¸„à¸™à¸´à¸„ Mask (à¹€à¸ˆà¸²à¸°à¸£à¸¹à¸•à¸£à¸‡à¸à¸¥à¸²à¸‡) */
Â  Â  Â  Â  .msg-box.lv-max::before {
Â  Â  Â  Â  Â  Â  content: "";
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  inset: 0; /* à¹€à¸•à¹‡à¸¡à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ */
Â  Â  Â  Â  Â  Â  padding: 3px; /* à¸„à¸§à¸²à¸¡à¸«à¸™à¸²à¸‚à¸­à¸‡à¹€à¸ªà¹‰à¸™à¸‚à¸­à¸š */
Â  Â  Â  Â  Â  Â  border-radius: 16px; /* à¸¡à¸¸à¸¡à¹‚à¸„à¹‰à¸‡à¸•à¹‰à¸­à¸‡à¹€à¸—à¹ˆà¸²à¸à¸±à¸šà¸à¸¥à¹ˆà¸­à¸‡ */
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  /* à¸ªà¸µà¸£à¸¸à¹‰à¸‡ + à¸­à¸™à¸´à¹€à¸¡à¸Šà¸±à¹ˆà¸™ */
Â  Â  Â  Â  Â  Â  background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3);
Â  Â  Â  Â  Â  Â  background-size: 300% 300%;
Â  Â  Â  Â  Â  Â  animation: rainbowAnim 3s ease infinite;

Â  Â  Â  Â  Â  Â  /* à¹€à¸—à¸„à¸™à¸´à¸„à¹€à¸ˆà¸²à¸°à¸£à¸¹à¸•à¸£à¸‡à¸à¸¥à¸²à¸‡à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹€à¸«à¹‡à¸™à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¸‚à¸²à¸§à¸‚à¸­à¸‡à¸à¸¥à¹ˆà¸­à¸‡à¹à¸¡à¹ˆ */
Â  Â  Â  Â  Â  Â  -webkit-mask: 
Â  Â  Â  Â  Â  Â  Â  Â  linear-gradient(#fff 0 0) content-box, 
Â  Â  Â  Â  Â  Â  Â  Â  linear-gradient(#fff 0 0);
Â  Â  Â  Â  Â  Â  -webkit-mask-composite: xor;
Â  Â  Â  Â  Â  Â  mask-composite: exclude;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 2; /* à¸­à¸¢à¸¹à¹ˆà¸šà¸™à¸ªà¸¸à¸” */
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .msg-box.lv-max .msg-text { color: #1a1a1a !important; font-weight: 600 !important; }
Â  Â  Â  Â  .msg-box.lv-max .msg-name { 
Â  Â  Â  Â  Â  Â  background: linear-gradient(90deg, #ff0000, #002bff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800 !important; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .msg-box.lv-max .msg-img { border: 2px solid #FFD700 !important; }

Â  Â  Â  Â  /* COMMON RAINBOW ANIMATION */
Â  Â  Â  Â  @keyframes rainbowAnim { 
Â  Â  Â  Â  Â  Â  0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%}
Â  Â  Â  Â  }
Â  Â  Â  Â  .lv-badge.bg-max { 
Â  Â  Â  Â  Â  Â  background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3);
Â  Â  Â  Â  Â  Â  background-size: 400% 400%; animation: rainbowAnim 3s ease infinite;
Â  Â  Â  Â  Â  Â  color: white; font-weight: 900;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  /* === JFF CORP'S EXCLUSIVE NEON STYLE (UPDATED) === */
Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  .msg-box.jff-style {
Â  Â  Â  Â  Â  Â  /* à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¸ªà¸µà¸¡à¸·à¸” + à¸•à¸²à¸£à¸²à¸‡ Grid */
Â  Â  Â  Â  Â  Â  background: rgba(10, 5, 20, 0.95) !important;
Â  Â  Â  Â  Â  Â  background-image:
Â  Â  Â  Â  Â  Â  Â  Â  linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
Â  Â  Â  Â  Â  Â  Â  Â  linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px) !important;
Â  Â  Â  Â  Â  Â  background-size: 20px 20px !important;

Â  Â  Â  Â  Â  Â  /* 1. à¸¥à¸šà¹€à¸ªà¹‰à¸™à¸‚à¸­à¸šà¸›à¸à¸•à¸´à¸­à¸­à¸ à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸Šà¹‰ Animated Border à¹à¸—à¸™ */
Â  Â  Â  Â  Â  Â  border: none !important;
Â  Â  Â  Â  Â  Â  border-radius: 12px !important;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  /* à¹à¸ªà¸‡à¸Ÿà¸¸à¹‰à¸‡ (Glow) */
Â  Â  Â  Â  Â  Â  box-shadow: 
Â  Â  Â  Â  Â  Â  Â  Â  0 0 10px rgba(0, 255, 255, 0.3),
Â  Â  Â  Â  Â  Â  Â  Â  inset 0 0 20px rgba(255, 0, 222, 0.1) !important;

Â  Â  Â  Â  Â  Â  position: relative; 
Â  Â  Â  Â  Â  Â  overflow: hidden; 
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* 2. à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸ªà¹‰à¸™à¸‚à¸­à¸š Neon à¸§à¸´à¹ˆà¸‡à¹„à¸”à¹‰ (Mask Technique) */
Â  Â  Â  Â  .msg-box.jff-style::before {
Â  Â  Â  Â  Â  Â  content: "";
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  inset: 0;
Â  Â  Â  Â  Â  Â  padding: 2px; /* à¸„à¸§à¸²à¸¡à¸«à¸™à¸²à¹€à¸ªà¹‰à¸™à¸‚à¸­à¸š */
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  /* Gradient à¸ªà¸µ Neon (à¸Ÿà¹‰à¸²-à¸Šà¸¡à¸à¸¹-à¸¡à¹ˆà¸§à¸‡) */
Â  Â  Â  Â  Â  Â  background: linear-gradient(90deg, #00ffff, #ff00de, #5100ff, #00ffff);
Â  Â  Â  Â  Â  Â  background-size: 300% 300%;
Â  Â  Â  Â  Â  Â  animation: rainbowAnim 2s linear infinite; /* à¸§à¸´à¹ˆà¸‡à¹€à¸£à¹‡à¸§à¸à¸§à¹ˆà¸²à¸›à¸à¸•à¸´à¸«à¸™à¹ˆà¸­à¸¢ */
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  -webkit-mask: 
Â  Â  Â  Â  Â  Â  Â  Â  linear-gradient(#fff 0 0) content-box, 
Â  Â  Â  Â  Â  Â  Â  Â  linear-gradient(#fff 0 0);
Â  Â  Â  Â  Â  Â  -webkit-mask-composite: xor;
Â  Â  Â  Â  Â  Â  mask-composite: exclude;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* 3. Shimmer Effect à¸ªà¸µà¸‚à¸²à¸§ (à¹€à¸«à¸¡à¸·à¸­à¸™ Limited/VIP) */
Â  Â  Â  Â  .msg-box.jff-style::after {
Â  Â  Â  Â  Â  Â  content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
Â  Â  Â  Â  Â  Â  /* à¹ƒà¸Šà¹‰à¸ªà¸¹à¸•à¸£à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸š limited-card à¹€à¸›à¹Šà¸°à¹† */
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
Â  Â  Â  Â  Â  Â  transform: rotate(30deg); animation: shineMove 2.5s infinite; pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 3; /* à¸­à¸¢à¸¹à¹ˆà¸šà¸™à¸ªà¸¸à¸” */
Â  Â  Â  Â  Â  Â  mix-blend-mode: normal; /* à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸à¸¥à¸±à¸šà¹€à¸›à¹‡à¸™ Normal à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹€à¸«à¹‡à¸™à¸ªà¸µà¸‚à¸²à¸§à¸Šà¸±à¸”à¹€à¸ˆà¸™ */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* à¸•à¸à¹à¸•à¹ˆà¸‡à¹à¸–à¸šà¸ªà¸µà¸Šà¸¡à¸à¸¹à¸„à¸²à¸” */
Â  Â  Â  Â  .jff-decor-bar {
Â  Â  Â  Â  Â  Â  position: absolute; left: 50%; transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  width: 40%; height: 3px; background: #ff00de;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px #ff00de;
Â  Â  Â  Â  Â  Â  border-radius: 2px;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }
Â  Â  Â  Â  .jff-decor-top { top: 0; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; } 
Â  Â  Â  Â  .jff-decor-bottom { bottom: 0; border-top-left-radius: 5px; border-top-right-radius: 5px; }

Â  Â  Â  Â  /* à¸›à¸£à¸±à¸šà¸ªà¸µà¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£ */
Â  Â  Â  Â  .msg-box.jff-style .msg-text { 
Â  Â  Â  Â  Â  Â  color: #ffffff !important; 
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 5px rgba(0, 255, 255, 0.6); 
Â  Â  Â  Â  Â  Â  font-family: 'Chakra Petch', sans-serif; font-weight: 500;
Â  Â  Â  Â  }
Â  Â  Â  Â  .msg-box.jff-style .msg-name { 
Â  Â  Â  Â  Â  Â  color: #00ffff !important; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 10px #00ffff !important;
Â  Â  Â  Â  Â  Â  background: none !important; -webkit-text-fill-color: #00ffff !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .msg-box.jff-style .msg-img {
Â  Â  Â  Â  Â  Â  border: 2px solid #00ffff !important; 
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px #ff00de !important;
Â  Â  Â  Â  Â  Â  border-radius: 8px !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* à¹à¸à¹‰à¹„à¸‚ Badge DEV (à¸ªà¸µà¸§à¸´à¹ˆà¸‡ + à¸•à¸±à¸§à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹€à¸¥à¸·à¹ˆà¸­à¸¡) */
Â  Â  Â  Â  .msg-box.jff-style .lv-badge.bg-dev {
Â  Â  Â  Â  Â  Â  top: 0; right: 0;
Â  Â  Â  Â  Â  Â  border-top-right-radius: 8px; /* à¹ƒà¸«à¹‰à¹€à¸‚à¹‰à¸²à¸¡à¸¸à¸¡à¸à¸±à¸šà¸à¸¥à¹ˆà¸­à¸‡ */
Â  Â  Â  Â  Â  Â  clip-path: none; /* à¹€à¸­à¸² clip-path à¸­à¸­à¸à¹€à¸à¸·à¹ˆà¸­à¸à¸±à¸™à¸šà¸±à¸„ */
Â  Â  Â  Â  Â  Â  padding: 4px 10px;

Â  Â  Â  Â  Â  Â  /* à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¸ªà¸µà¸§à¸´à¹ˆà¸‡ Neon */
Â  Â  Â  Â  Â  Â  background: linear-gradient(90deg, #00ffff, #5100ff, #ff00de, #00ffff);
Â  Â  Â  Â  Â  Â  background-size: 300% 100%;
Â  Â  Â  Â  Â  Â  animation: rainbowAnim 3s linear infinite;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  /* à¸•à¸±à¸§à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹€à¸¥à¸·à¹ˆà¸­à¸¡ */
Â  Â  Â  Â  Â  Â  text-shadow: 0 1px 3px rgba(255, 255, 255, 0.9);
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(0, 255, 255, 0.8);
Â  Â  Â  Â  Â  Â  font-weight: 900; letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- OWL MASCOT (Bottom Align) --- */
Â  Â  Â  Â  .owl-container { 
Â  Â  Â  Â  Â  Â  position: fixed; bottom: -30px; left: 50%; transform: translateX(-50%); 
Â  Â  Â  Â  Â  Â  width: 450px; z-index: 9999; pointer-events: none; line-height: 0; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .owl-container img { 
Â  Â  Â  Â  Â  Â  width: 100%; display: block; 
Â  Â  Â  Â  Â  Â  animation: owlBreathe 4s ease-in-out infinite; 
Â  Â  Â  Â  Â  Â  transform-origin: bottom center; 
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes owlBreathe { 
Â  Â  Â  Â  Â  Â  0%, 100% { transform: translateY(0) scale(1); } 
Â  Â  Â  Â  Â  Â  50% { transform: translateY(5px) scale(1.02); } 
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

Â  Â  <div class="bg-particles">
Â  Â  Â  Â  <span></span><span></span><span></span><span></span><span></span><span></span><span></span>
Â  Â  </div>

Â  Â  <div class="owl-logo-container">
Â  Â  Â  Â  <img src="blue-OWL-logo.png" 
Â  Â  Â  Â  Â  Â  Â onerror="this.src='https://cdn-icons-png.flaticon.com/512/477/477163.png'" 
Â  Â  Â  Â  Â  Â  Â alt="OWL Logo" class="owl-logo-img">
Â  Â  </div>

Â  Â  <div class="header-container">
Â  Â  Â  Â  <h1 class="main-title">AI EVENT : HAPPY OWL</h1>
Â  Â  Â  Â  <div class="main-subtitle">à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚à¸—à¸µà¹ˆ OWL</div>
Â  Â  Â  Â  <div class="header-line"></div>
Â  Â  </div>

Â  Â  <div class="total-panel">
Â  Â  Â  Â  <div class="total-box">
Â  Â  Â  Â  Â  Â  <div class="total-label">JOINED USERS</div>
Â  Â  Â  Â  Â  Â  <div class="total-number" id="total-count">...</div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="qr-panel">
Â  Â  Â  Â  <div class="qr-title">SCAN TO JOIN</div>
Â  Â  Â  Â  <div class="qr-subtitle">à¸ªà¹à¸à¸™à¹€à¸à¸·à¹ˆà¸­à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‚à¸¶à¹‰à¸™à¸ˆà¸­</div>
Â  Â  Â  Â  <div class="qr-image-box">
Â  Â  Â  Â  Â  Â  <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://weerapat26458-ctrl.github.io/HappyOwl/Usersdisplay.html" alt="Scan QR">
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="limited-panel">
Â  Â  Â  Â  <div class="limited-title">ğŸ† Special Rewards</div>
Â  Â  Â  Â  <div class="limited-window">
Â  Â  Â  Â  Â  Â  <div class="limited-content" id="scrolling-content"></div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="book-stage">
Â  Â  Â  Â  <div class="book">
Â  Â  Â  Â  Â  Â  <div class="book-cover"></div>
Â  Â  Â  Â  Â  Â  <div class="book-spine-bar"></div>
Â  Â  Â  Â  Â  Â  <div class="page-sheet" id="static-left"></div>
Â  Â  Â  Â  Â  Â  <div class="page-sheet" id="static-right"></div>
Â  Â  Â  Â  Â  Â  <div class="flipping-wrapper" id="flipper">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flip-front" id="flip-front-content"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flip-back" id="flip-back-content"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="owl-container">
Â  Â  Â  Â  <img src="https://media.discordapp.net/attachments/1460827312080556032/1460899620686135296/ChatGPT_Image_14_.._2569_14_31_23.png?ex=6968984b&is=696746cb&hm=24aef68b14cb0fc469388f9605e2e47da933717b6026857e849417c22bd4d97e&=&format=webp&quality=lossless&width=1061&height=680" alt="Happy Owl">
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  const supabaseUrl = 'https://kgyhqwgpeyfszowdrhbd.supabase.co';
Â  Â  Â  Â  const supabaseKey = 'sb_publishable_DgFCEd6iMOogHTNtr4ht-Q_4SAn8FBN';
Â  Â  Â  Â  
Â  Â  Â  Â  const limitedRewards = [
Â  Â  Â  Â  Â  Â  "à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡ Sharing Room (3 à¸Šà¸¡.)", "à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡ Mini Theatre (3 à¸Šà¸¡.)", 
Â  Â  Â  Â  Â  Â  "à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ AI (à¸„à¸¥à¸°à¹à¸šà¸š)", "à¸¢à¸·à¸¡à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹€à¸à¸´à¹ˆà¸¡ 1 à¹€à¸—à¹ˆà¸²", "à¸£à¸²à¸‡à¸§à¸±à¸¥à¸à¸´à¹€à¸¨à¸©"
Â  Â  Â  Â  ];
Â  Â  Â  Â  
Â  Â  Â  Â  const badWords = [
Â  Â  Â  Â  Â  Â  "fuck", "shit", "bitch", "asshole", "cunt", "dick", "pussy", "bastard", "motherfucker", 
Â  Â  Â  Â  Â  Â  "whore", "slut", "idiot", "stupid", "dumbass", "wanker", "jerk", "sucker", "cock", 
Â  Â  Â  Â  Â  Â  "kuy", "fck", "sh1t", "b1tch",
Â  Â  Â  Â  Â  Â  "à¸„à¸§à¸¢", "à¹€à¸«à¸µà¹‰à¸¢", "à¸ªà¸±à¸ª", "à¸ªà¸±à¸•à¸§à¹Œ", "à¹€à¸¢à¹‡à¸”", "à¹€à¸¢à¸”", "à¹à¸¡à¹ˆà¸‡", "à¸¡à¸¶à¸‡", "à¸à¸¹", "à¸¡à¸£à¸¶à¸‡", "à¸à¸¸",
Â  Â  Â  Â  Â  Â  "à¹€à¸¥à¸§", "à¹‚à¸‡à¹ˆ", "à¸Šà¸±à¹ˆà¸§", "à¸™à¸£à¸", "à¸£à¸°à¸¢à¸³", "à¸ˆà¸±à¸à¹„à¸£", "à¹€à¸ªà¸™à¸µà¸¢à¸”", "à¸ªà¸–à¸¸à¸™", "à¸Šà¸²à¸•à¸´à¸Šà¸±à¹ˆà¸§", "à¸­à¸±à¸›à¸£à¸µà¸¢à¹Œ",
Â  Â  Â  Â  Â  Â  "à¸”à¸­à¸à¸—à¸­à¸‡", "à¸£à¹ˆà¸²à¸™", "à¹à¸£à¸”", "à¸•à¸­à¹à¸«à¸¥", "à¸«à¸™à¹‰à¸²à¸•à¸±à¸§à¹€à¸¡à¸µà¸¢", "à¸«à¸µ", "à¹à¸•à¸”", "à¹‚à¸„à¸¡",
Â  Â  Â  Â  Â  Â  "à¸à¹ˆà¸­à¸¡à¸¶à¸‡", "à¹à¸¡à¹ˆà¸¡à¸¶à¸‡", "à¸à¹ˆà¸­à¸•à¸²à¸¢", "à¹à¸¡à¹ˆà¸•à¸²à¸¢", "à¹€à¸¢à¹‡à¸”à¹à¸¡à¹ˆ", "à¹€à¸¢à¹‡à¸”à¸à¹ˆà¸­",
Â  Â  Â  Â  Â  Â  "kuy", "quyy", "here", "sad", "sud", "yed", "yet", "mae", "por", "mung", "gu",
Â  Â  Â  Â  Â  Â  "dok", "he", "hee", "tad", "kum", "sathoon", "rayum", "junrai"
Â  Â  Â  Â  ];

Â  Â  Â  Â  let allMessages = []; Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  let newMessagesQueue = [];
Â  Â  Â  Â  let allLimitedWinners = []; 
Â  Â  Â  Â  let totalUsers = 0; 
Â  Â  Â  Â  
Â  Â  Â  Â  // Demo Messages
Â  Â  Â  Â  const demoMessages = [
Â  Â  Â  Â  Â  Â  { text: "JFF CORP's (System)", name: "JFF CORP's", image: null, isLimited: false, reward: "-", level: 0 },
Â  Â  Â  Â  Â  Â  { text: "à¸ªà¸¸à¸”à¸¢à¸­à¸”à¸¡à¸²à¸à¸„à¸£à¸±à¸š (LV.MAX)", name: "Super Fan", image: "https://cdn-icons-png.flaticon.com/512/3135/3135715.png", isLimited: false, level: 15 },
Â  Â  Â  Â  Â  Â  { text: "à¸Šà¸­à¸šà¸‡à¸²à¸™à¸™à¸µà¹‰à¸¡à¸²à¸ (Level 10)", name: "Pro User", image: null, isLimited: false, level: 10 },
Â  Â  Â  Â  Â  Â  { text: "à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸š (Level 5)", name: "Newbie", image: null, isLimited: false, level: 5 },
Â  Â  Â  Â  Â  Â  { text: "à¸ªà¸§à¸±à¸ªà¸”à¸µà¸§à¸±à¸™à¸ˆà¸±à¸™à¸—à¸£à¹Œ", name: "User A", image: null, isLimited: false, level: 0 },
Â  Â  Â  Â  Â  Â  { text: "Happy New Year!", name: "User B", image: "https://cdn-icons-png.flaticon.com/512/3135/3135768.png", isLimited: true, reward: "à¸£à¸²à¸‡à¸§à¸±à¸¥à¸à¸´à¹€à¸¨à¸©", level: 0 }
Â  Â  Â  Â  ];

Â  Â  Â  Â  const staticLeft = document.getElementById('static-left');
Â  Â  Â  Â  const staticRight = document.getElementById('static-right');
Â  Â  Â  Â  const flipper = document.getElementById('flipper');
Â  Â  Â  Â  const flipFrontContent = document.getElementById('flip-front-content');
Â  Â  Â  Â  const flipBackContent = document.getElementById('flip-back-content');
Â  Â  Â  Â  const scrollingContent = document.getElementById('scrolling-content');
Â  Â  Â  Â  const totalCountEl = document.getElementById('total-count');
Â  Â  Â  Â  
Â  Â  Â  Â  let userLevelMap = {};

Â  Â  Â  Â  function containsBadWords(text) {
Â  Â  Â  Â  Â  Â  if (!text) return false;
Â  Â  Â  Â  Â  Â  const lowerText = text.toLowerCase().replace(/\s/g, ''); 
Â  Â  Â  Â  Â  Â  return badWords.some(word => lowerText.includes(word));
Â  Â  Â  Â  }

Â  Â  Â  Â  async function fetchUserCount(name) {
Â  Â  Â  Â  Â  Â  if (!name) return 0;
Â  Â  Â  Â  Â  Â  const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
Â  Â  Â  Â  Â  Â  const { count, error } = await supabase
Â  Â  Â  Â  Â  Â  Â  Â  .from('HappyOwl_messages')
Â  Â  Â  Â  Â  Â  Â  Â  .select('*', { count: 'exact', head: true })
Â  Â  Â  Â  Â  Â  Â  Â  .eq('name', name);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (error) { console.error(error); return 0; }
Â  Â  Â  Â  Â  Â  return count;
Â  Â  Â  Â  }

Â  Â  Â  Â  function formatMessage(data, realCount = 0) {
Â  Â  Â  Â  Â  Â  const isLimited = limitedRewards.includes(data.reward);
Â  Â  Â  Â  Â  Â  return { 
Â  Â  Â  Â  Â  Â  Â  Â  text: data.message, name: data.name, image: data.image_url, 
Â  Â  Â  Â  Â  Â  Â  Â  id: data.id || Date.now(), isLimited: isLimited, reward: data.reward,
Â  Â  Â  Â  Â  Â  Â  Â  level: realCount 
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  }

Â  Â  Â  Â  function getTextSizeClass(text) {
Â  Â  Â  Â  Â  Â  if (!text) return 'size-normal';
Â  Â  Â  Â  Â  Â  const len = text.length;
Â  Â  Â  Â  Â  Â  if (len > 80) return 'size-xs';
Â  Â  Â  Â  Â  Â  if (len > 40) return 'size-s';
Â  Â  Â  Â  Â  Â  return 'size-normal';
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateScrollingBoard() {
Â  Â  Â  Â  Â  Â  if (allLimitedWinners.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  scrollingContent.innerHTML = '<div style="text-align:center; color:#bbb; padding:20px;">à¸£à¸­à¸¥à¸¸à¹‰à¸™à¸œà¸¹à¹‰à¹‚à¸Šà¸„à¸”à¸µ...</div>';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const itemsHtml = allLimitedWinners.map(winner => {
Â  Â  Â  Â  Â  Â  Â  Â  const imgUrl = winner.image ? winner.image : 'https://cdn-icons-png.flaticon.com/512/847/847969.png';
Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="winner-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${imgUrl}" class="winner-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png'">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="winner-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="winner-name">${winner.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="winner-reward">${winner.reward}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }).join('');

Â  Â  Â  Â  Â  Â  let finalHtml = itemsHtml;
Â  Â  Â  Â  Â  Â  if (allLimitedWinners.length < 5) {
Â  Â  Â  Â  Â  Â  Â  Â  finalHtml = itemsHtml + itemsHtml + itemsHtml + itemsHtml; 
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  finalHtml = itemsHtml + itemsHtml; 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  scrollingContent.innerHTML = finalHtml;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const totalHeight = allLimitedWinners.length * 60; 
Â  Â  Â  Â  Â  Â  const duration = Math.max(10, totalHeight / 20); 
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  scrollingContent.style.animation = `scrollVertical ${duration}s linear infinite`;
Â  Â  Â  Â  Â  Â  scrollingContent.classList.add('scrolling-up');
Â  Â  Â  Â  }

Â  Â  Â  Â  // ==========================================
Â  Â  Â  Â  // ğŸ”¥ UPDATE LOGIC: LEVEL SYSTEM & STYLES ğŸ”¥
Â  Â  Â  Â  // ==========================================
Â  Â  Â  Â  function generateHTML(msg, seqIndex = 0, isStatic = false) {
Â  Â  Â  Â  Â  Â  if (!msg || !msg.text) return `<div class="msg-box" style="opacity:0"></div>`;
Â  Â  Â  Â  Â  Â  const delayClass = (!isStatic && seqIndex > 0) ? `d-${seqIndex}` : '';
Â  Â  Â  Â  Â  Â  const animClass = isStatic ? '' : 'msg-anim';
Â  Â  Â  Â  Â  Â  const opacityStyle = isStatic ? 'opacity:1; transform:translateY(0);' : '';
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const imgUrl = msg.image ? msg.image : 'https://cdn-icons-png.flaticon.com/512/847/847969.png'; 
Â  Â  Â  Â  Â  Â  const sizeClass = getTextSizeClass(msg.text);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  let boxClass = "msg-box";
Â  Â  Â  Â  Â  Â  let imgClass = "msg-img";
Â  Â  Â  Â  Â  Â  let crownHtml = "";
Â  Â  Â  Â  Â  Â  let extraDecor = "";
Â  Â  Â  Â  Â  Â  let lvBadgeHtml = "";

Â  Â  Â  Â  Â  Â  const cleanName = msg.name ? msg.name.trim().replace(/â€™/g, "'") : "";
Â  Â  Â  Â  Â  Â  const currentLevel = msg.level || 0;

Â  Â  Â  Â  Â  Â  // 1. JFF CORP's (Highest Priority)
Â  Â  Â  Â  Â  Â  if (cleanName === "JFF CORP's") {
Â  Â  Â  Â  Â  Â  Â  Â  boxClass += " jff-style"; 
Â  Â  Â  Â  Â  Â  Â  Â  extraDecor = `<div class="jff-decor-bar jff-decor-top"></div><div class="jff-decor-bar jff-decor-bottom"></div>`;
Â  Â  Â  Â  Â  Â  Â  Â  // Add DEV Badge for JFF
Â  Â  Â  Â  Â  Â  Â  Â  lvBadgeHtml = `<div class="lv-badge bg-dev">DEV</div>`;
Â  Â  Â  Â  Â  Â  } 
Â  Â  Â  Â  Â  Â  // 2. Level System
Â  Â  Â  Â  Â  Â  else if (currentLevel >= 5) {
Â  Â  Â  Â  Â  Â  Â  Â  boxClass += " limited-card"; 
Â  Â  Â  Â  Â  Â  Â  Â  // LV 15 => MAX (Rainbow Border White Box)
Â  Â  Â  Â  Â  Â  Â  Â  if (currentLevel >= 15) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxClass += " lv-max";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lvBadgeHtml = `<div class="lv-badge bg-max">LV.MAX</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  } else if (currentLevel >= 10) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxClass += " lv-10";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lvBadgeHtml = `<div class="lv-badge bg-lv10">LV.10</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  } else { // 5-9
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxClass += " lv-5";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lvBadgeHtml = `<div class="lv-badge bg-lv5">LV.5</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // 3. Limited Winner
Â  Â  Â  Â  Â  Â  else if (msg.isLimited) {
Â  Â  Â  Â  Â  Â  Â  Â  boxClass += " limited-card";
Â  Â  Â  Â  Â  Â  Â  Â  imgClass += " limited-img";
Â  Â  Â  Â  Â  Â  Â  Â  crownHtml = '<div class="crown-badge">ğŸ‘‘</div>';
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="${boxClass} ${animClass} ${delayClass}" style="${opacityStyle}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${extraDecor}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${lvBadgeHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="img-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${crownHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${imgUrl}" class="${imgClass}" onerror="this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png'">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="msg-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="msg-text ${sizeClass}">"${msg.text}"</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="msg-name">- ${msg.name} -</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  }

Â  Â  Â  Â  function createMsgHTML(msg, seqIndex) { return generateHTML(msg, seqIndex, false); }
Â  Â  Â  Â  function createMsgStatic(msg) { return generateHTML(msg, 0, true); }

Â  Â  Â  Â  function getNextBatchMixed() {
Â  Â  Â  Â  Â  Â  let batch = [];
Â  Â  Â  Â  Â  Â  while (newMessagesQueue.length > 0 && batch.length < 6) {
Â  Â  Â  Â  Â  Â  Â  Â  batch.push(newMessagesQueue.shift());
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  let attempts = 0;
Â  Â  Â  Â  Â  Â  while (batch.length < 6 && allMessages.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  const randomIndex = Math.floor(Math.random() * allMessages.length);
Â  Â  Â  Â  Â  Â  Â  Â  const candidate = allMessages[randomIndex];
Â  Â  Â  Â  Â  Â  Â  Â  const isDuplicate = batch.some(m => m.id === candidate.id);
Â  Â  Â  Â  Â  Â  Â  Â  if (!isDuplicate || allMessages.length < 6) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  batch.push(candidate);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  attempts++;
Â  Â  Â  Â  Â  Â  Â  Â  if (attempts > 50) break; 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  while (batch.length < 6) {
Â  Â  Â  Â  Â  Â  Â  Â  batch.push({ text: "Waiting for messages...", name: "Happy Owl", image: null });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return batch;
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderPage(container, dataArray, startSeq = 0) {
Â  Â  Â  Â  Â  Â  container.innerHTML = dataArray.map((d, i) => {
Â  Â  Â  Â  Â  Â  Â  Â  const currentSeq = startSeq > 0 ? startSeq + i : 0;
Â  Â  Â  Â  Â  Â  Â  Â  return createMsgHTML(d, currentSeq);
Â  Â  Â  Â  Â  Â  }).join('');
Â  Â  Â  Â  }
Â  Â  Â  Â  function renderPageStatic(container, dataArray) {
Â  Â  Â  Â  Â  Â  container.innerHTML = dataArray.map(d => createMsgStatic(d)).join('');
Â  Â  Â  Â  }

Â  Â  Â  Â  let currentPageData = [];

Â  Â  Â  Â  async function connectSupabase() {
Â  Â  Â  Â  Â  Â  if (typeof window.supabase === 'undefined') {
Â  Â  Â  Â  Â  Â  Â  Â  allMessages = [...demoMessages];
Â  Â  Â  Â  Â  Â  Â  Â  allLimitedWinners = allMessages.filter(m => m.isLimited);
Â  Â  Â  Â  Â  Â  Â  Â  totalCountEl.innerText = "1,580"; 
Â  Â  Â  Â  Â  Â  Â  Â  updateScrollingBoard();
Â  Â  Â  Â  Â  Â  Â  Â  initBook();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const { count, error: countError } = await supabase
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .from('HappyOwl_messages')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .select('*', { count: 'exact', head: true });
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (!countError) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalUsers = count;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalCountEl.innerText = totalUsers.toLocaleString();
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const { data, error } = await supabase
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .from('HappyOwl_messages')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .select('*')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .order('created_at', { ascending: false })
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .limit(100);

Â  Â  Â  Â  Â  Â  Â  Â  if (!error && data && data.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let realMessages = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const uniqueNames = [...new Set(data.map(item => item.name))];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (const name of uniqueNames) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (name && !userLevelMap[name]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â userLevelMap[name] = await fetchUserCount(name);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!containsBadWords(item.message)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const count = userLevelMap[item.name] || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  realMessages.push(formatMessage(item, count));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allMessages = realMessages; 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allLimitedWinners = allMessages.filter(m => m.isLimited);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allMessages = [...demoMessages];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allLimitedWinners = allMessages.filter(m => m.isLimited);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  updateScrollingBoard();
Â  Â  Â  Â  Â  Â  Â  Â  initBook(); 
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  supabase.channel('realtime-book')
Â  Â  Â  Â  Â  Â  Â  Â  .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'HappyOwl_messages' }, async (payload) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalUsers++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalCountEl.innerText = totalUsers.toLocaleString();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newItem = payload.new;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!containsBadWords(newItem.message)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const freshCount = await fetchUserCount(newItem.name);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userLevelMap[newItem.name] = freshCount;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const formatted = formatMessage(newItem, freshCount);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newMessagesQueue.push(formatted);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allMessages.push(formatted);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (formatted.isLimited) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allLimitedWinners.unshift(formatted); 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateScrollingBoard(); 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .subscribe();
Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Supabase Error:", err);
Â  Â  Â  Â  Â  Â  Â  Â  allMessages = [...demoMessages];
Â  Â  Â  Â  Â  Â  Â  Â  allLimitedWinners = allMessages.filter(m => m.isLimited);
Â  Â  Â  Â  Â  Â  Â  Â  updateScrollingBoard();
Â  Â  Â  Â  Â  Â  Â  Â  initBook();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function initBook() {
Â  Â  Â  Â  Â  Â  currentPageData = getNextBatchMixed();
Â  Â  Â  Â  Â  Â  renderPage(staticLeft, currentPageData.slice(0, 3), 1); 
Â  Â  Â  Â  Â  Â  renderPage(staticRight, currentPageData.slice(3, 6), 4);
Â  Â  Â  Â  }

Â  Â  Â  Â  function turnPage() {
Â  Â  Â  Â  Â  Â  const nextBatch = getNextBatchMixed();
Â  Â  Â  Â  Â  Â  const nextLeft = nextBatch.slice(0, 3);
Â  Â  Â  Â  Â  Â  const nextRight = nextBatch.slice(3, 6);
Â  Â  Â  Â  Â  Â  renderPageStatic(flipFrontContent, currentPageData.slice(3, 6));
Â  Â  Â  Â  Â  Â  flipBackContent.innerHTML = ''; 
Â  Â  Â  Â  Â  Â  flipper.style.display = 'block';
Â  Â  Â  Â  Â  Â  flipper.classList.add('do-flip');
Â  Â  Â  Â  Â  Â  setTimeout(() => { staticRight.innerHTML = ''; }, 200);
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  renderPage(staticLeft, nextLeft, 1);
Â  Â  Â  Â  Â  Â  Â  Â  renderPage(staticRight, nextRight, 4);
Â  Â  Â  Â  Â  Â  Â  Â  currentPageData = nextBatch;
Â  Â  Â  Â  Â  Â  Â  Â  flipper.classList.remove('do-flip');
Â  Â  Â  Â  Â  Â  Â  Â  flipper.style.display = 'none';
Â  Â  Â  Â  Â  Â  }, 1800);
Â  Â  Â  Â  }

Â  Â  Â  Â  connectSupabase();
Â  Â  Â  Â  setInterval(turnPage, 12000); 

Â  Â  </script>
</body>
</html>
